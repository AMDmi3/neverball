
# The INCDIR variable will probably need to be changed depending on where
# you have installed the SDL headers.


GAME_OBJS= \
	config.obj \
	audio.obj  \
	game.obj   \
	geom.obj   \
	back.obj   \
	part.obj   \
	image.obj  \
	level.obj  \
	main.obj   \
	menu.obj   \
	solid.obj  \
	state.obj  \
	text.obj   \
	hud.obj    \
	vec3.obj
MAPC_OBJS= \
	vec3.obj  \
	solid.obj \
	mapc.obj

CFLAGS= /Ox

SYS_LIBS= glu32.lib opengl32.lib kernel32.lib user32.lib gdi32.lib
SDL_LIBS= SDL.lib SDLmain.lib

GAME_LIBS= SDL_ttf.lib SDL_mixer.lib SDL_image.lib $(SDL_LIBS) $(SYS_LIBS)
MAPC_LIBS=                           SDL_image.lib $(SDL_LIBS) $(SYS_LIBS)

INCDIR= /I"C:\Program Files\Microsoft Visual Studio\VC98\Include\SDL"

GAME= neverball.exe
MAPC= mapc.exe

all : ..\$(GAME) ..\$(MAPC)

.c.obj :
	cl /nologo /MD $(CFLAGS) /c $< $(INCDIR)

..\$(GAME) : $(GAME)
	copy $(GAME) ..\$(GAME)

..\$(MAPC) : $(MAPC)
	copy $(MAPC) ..\$(MAPC)

$(GAME) : $(GAME_OBJS)
	link /nologo /out:$(GAME) /subsystem:windows $(GAME_OBJS) $(GAME_LIBS)

$(MAPC) : $(MAPC_OBJS)
	link /nologo /out:$(MAPC) /subsystem:console $(MAPC_OBJS) $(MAPC_LIBS)

clean :
	del $(GAME) $(MAPC) $(GAME_OBJS) $(MAPC_OBJS)
